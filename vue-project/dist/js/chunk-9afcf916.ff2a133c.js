(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9afcf916"],{"11d4":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"addGoods"}},[a("div",{staticClass:"addbox"},[a("el-form",{ref:"good",attrs:{"label-width":"100px",alin:"left","label-position":"left",rules:e.rules,model:e.good}},[a("el-form-item",{attrs:{label:"上传商品图片:"}},[a("el-upload",{attrs:{action:"http://localhost:3000/images/upload","list-type":"picture","on-success":e.loadsuccess}},[a("i",{staticClass:"el-icon-plus"})])],1),a("el-form-item",{attrs:{label:"商品种类:",prop:"type"}},[a("el-select",{attrs:{clearable:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"请输入商品种类"},model:{value:e.good.type,callback:function(t){e.$set(e.good,"type",t)},expression:"good.type"}},e._l(e.type,(function(e){return a("el-option",{key:e.index,attrs:{label:e,value:e}})})),1)],1),a("el-form-item",{attrs:{label:"商品名称:",prop:"name"}},[a("el-input",{attrs:{clearable:""},model:{value:e.good.name,callback:function(t){e.$set(e.good,"name",t)},expression:"good.name"}})],1),a("el-form-item",{attrs:{label:"商品价格:",prop:"price"}},[a("el-input",{attrs:{clearable:""},model:{value:e.good.price,callback:function(t){e.$set(e.good,"price",t)},expression:"good.price"}})],1),a("el-form-item",{attrs:{label:"商品简介:"}},[a("el-input",{attrs:{clearable:"",type:"textarea",maxlength:"200",autosize:{minRows:5,maxRows:10},"show-word-limit":""},model:{value:e.good.detail,callback:function(t){e.$set(e.good,"detail",t)},expression:"good.detail"}})],1),a("el-form-item",{attrs:{label:"上传详情图片:"}},[a("el-upload",{attrs:{action:"http://localhost:3000/images/upload","list-type":"picture","on-success":e.loaddetailimg}},[a("i",{staticClass:"el-icon-plus"})])],1),a("el-form-item",{attrs:{label:"商品库存:",prop:"store"}},[a("el-input",{attrs:{clearable:""},model:{value:e.good.store,callback:function(t){e.$set(e.good,"store",t)},expression:"good.store"}})],1)],1),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.sureadd("good")}}},[e._v("确认添加")])],1)])},l=[],s=(a("96cf"),a("1da1")),r=a("5530"),i=a("2f62"),n=Object(i["a"])("goods"),c=n.mapActions,d=Object(i["a"])("shops"),u=d.mapState,p={data:function(){return{good:{type:"",name:"",image:"",detailimg:[],store:"",detail:"",price:"",status:!0,shopId:""},type:["电子产品","食品酒水","服装饰品"],rules:{name:[{required:!0,message:"请输入活动名称",trigger:"blur"}],price:[{required:!0,message:"请输入价格",trigger:"blur"}],type:[{required:!0,message:"请至少选择一个商品种类",trigger:"blur"}],store:[{required:!0,message:"请输入库存",trigger:"blur"}]},formisable:!1}},created:function(){this.getAllGoods()},methods:Object(r["a"])(Object(r["a"])({},c(["addGood","getAllGoods"])),{},{sureadd:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.$refs[e].validate((function(e){e&&(t.formisable=!0)})),!t.formisable){a.next=7;break}return t.good.shopId=t.shopsId,a.next=5,t.addGood(t.good);case 5:o=a.sent,o.data.success&&alert("添加成功");case 7:case"end":return a.stop()}}),a)})))()},loadsuccess:function(e){e.success&&(this.good.image=e.filename[0])},loaddetailimg:function(e){e.success&&this.good.detailimg.push(e.filename[0])}}),computed:Object(r["a"])({},u(["shopsId"]))},m=p,f=(a("62f5"),a("2877")),g=Object(f["a"])(m,o,l,!1,null,"1d3dc753",null);t["default"]=g.exports},"62f5":function(e,t,a){"use strict";var o=a("daf0"),l=a.n(o);l.a},daf0:function(e,t,a){}}]);
//# sourceMappingURL=chunk-9afcf916.ff2a133c.js.map