(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-68496971"],{aff4:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"orders"}},[a("el-table",{staticStyle:{width:"95%"},attrs:{data:e.orders.filter((function(t){return!e.search||t.name.toLowerCase().includes(e.search.toLowerCase())||t.age.toLowerCase().includes(e.search.toLowerCase())||t.sex.toLowerCase().includes(e.search.toLowerCase())||t.classid.name.toLowerCase().includes(e.search.toLowerCase())||t.classid.teacherid.name.toLowerCase().includes(e.search.toLowerCase())})),stripe:"",height:"710px"}},[a("el-table-column",{attrs:{align:"center",label:"商品图片",width:"200"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:"http://localhost:3000/images/"+e.row.goodId.image,fit:"cover"}})]}}])}),a("el-table-column",{attrs:{align:"center",prop:"goodId.name",label:"商品名称",width:"250"}}),a("el-table-column",{attrs:{align:"center",prop:"_id",label:"订单编号",width:"300"}}),a("el-table-column",{attrs:{align:"center",prop:"userId.name",label:"用户名称",width:"250"}}),a("el-table-column",{attrs:{align:"center",prop:"status",label:"状态",width:"250"}}),a("el-table-column",{attrs:{align:"center",fixed:"right",label:"操作",width:"200"},scopedSlots:e._u([{key:"header",fn:function(t){return[a("el-input",{attrs:{size:"mini",placeholder:"输入关键字搜索",value:t},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})]}},{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){return e.delit(t.row._id)}}},[e._v("删除")])]}}])})],1),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":e.page.pagenum-0,"page-size":e.page.datanum-0,layout:"total, prev, pager, next, jumper",total:e.allnum},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},r=[],s=(a("96cf"),a("1da1")),c=a("5530"),l=a("2f62"),i=Object(l["a"])("orders"),o=i.mapActions,u=i.mapState,d=i.mapMutations,h=Object(l["a"])("shops"),p=h.mapState,g={data:function(){return{search:""}},mounted:function(){this.getOrders()},methods:Object(c["a"])(Object(c["a"])(Object(c["a"])({},o(["getAllOrders","delOrder"])),d(["changedatanum","changepagenum"])),{},{getOrders:function(){this.getAllOrders(this.shopsId)},delit:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.delOrder({id:e,success:!0});case 2:n=a.sent,r=n.msg,r.success?(t.$message({message:"删除成功,可在订单还原处恢复",type:"success"}),t.getOrders()):alert("删除失败");case 5:case"end":return a.stop()}}),a)})))()},handleSizeChange:function(e){this.changedatanum(e),this.getOrders()},handleCurrentChange:function(e){this.changepagenum(e),this.getOrders()}}),computed:Object(c["a"])(Object(c["a"])({},u(["orders","page","allnum","lastpage"])),p(["shopsId"]))},m=g,f=(a("e382"),a("2877")),b=Object(f["a"])(m,n,r,!1,null,"92719ffc",null);t["default"]=b.exports},b51a:function(e,t,a){},e382:function(e,t,a){"use strict";var n=a("b51a"),r=a.n(n);r.a}}]);
//# sourceMappingURL=chunk-68496971.ec53d47e.js.map